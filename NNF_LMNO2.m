function [y1] = NNF_LMNO2(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 05-May-2020 23:17:11.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx11 matrix, input #1
% and returns:
%   y = Qx1 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [4;5;0.2;0;2;0;0.1;996.6;0;-4;10];
x1_step1.gain = [0.00809716599190283;0.00400801603206413;0.740740740740741;0.0121212121212121;0.00181653042688465;0.00826446280991736;0.5;0.0461893764434179;0.00640820249919897;0.0476190476190476;0.0222222222222222];
x1_step1.ymin = -1;

% Layer 1
b1 = [-2.7987198108321398315;1.5801096916390933167;-1.4143814756409134326;-1.7497978293343017242;4.9405132596265497469;1.4456330648384263515;0.9631836916649920699;0.65448503062937901653;1.207268735801652948;-5.9235744133098009456;1.6322566086789915829;2.8774582254879454979;-2.8808170077100565543];
IW1_1 = [1.3469845347812616776 -1.9428131874434826365 0.4949946503519765395 1.1175183780625470575 -1.3019747926054670017 -0.54494625760275794413 -0.97350225491805408851 -0.97058793224111861164 -0.20412204595775496063 -1.0350046541581396919 -0.76266655639620895002;-0.33866092842168293853 0.49889052069451272908 -0.39362210018242260734 0.42952333674527992669 1.0789871987470718295 0.2404663956418857107 0.11346007878638189603 -1.1750346694655073865 -0.13739620128149968026 -1.0718298101305194781 0.26515451271680900991;3.0249931793972901772 -2.6011214192816431989 -0.24915571399180996837 2.1345640403549857034 0.93631096910905020625 -0.92680098062353544197 -0.76918062731481562366 -0.19527097546679453299 1.5403247688809074134 5.1173289067957048459 0.82448320986930911936;1.5106548039640483871 -2.217587821966812367 0.87275738378230305337 0.83857975052019839701 -0.34907858906173849789 -0.49999141058142010374 -1.1499797556599606896 -0.91051143640444842653 -0.21388079459209285993 -1.1061068164526022262 -0.92055117507034978086;-1.4337714622079862359 -1.622425399440959648 0.23987310710307413464 0.25471019955728568807 -4.5368303915796488468 -6.0293177668669333258 -0.35533645480334552502 0.68831464062706004814 -13.925927043354011658 1.7938125312837041037 0.32329771916362365358;-0.43703324782879238164 0.63244681636078436959 0.12220002120052249339 0.22537479661207282522 0.74643267487725528664 -0.02947599848090582883 0.23079315790223653426 -0.76460271260244305758 -0.24005710498137003417 -0.95439290689883082841 0.40281793321652847872;0.61084671829155523515 1.3402662780305314438 -1.3182125372769470939 -1.1202870209192978823 1.0013126180808455956 0.43788800570575947546 0.86346715110447236352 0.34414172805009579648 -2.3729305838840981657 0.59321685665633072659 1.5812410387101185627;-0.18337452846654753169 -1.7134576432375279165 1.4467519344363943823 0.92894998848504195532 0.72690473664496646489 -0.55495710890208727051 -0.78097287872525589236 -0.25637791026738349087 2.3024018336469960211 -0.43615482309751979484 -1.399259752198823703;3.117815940140965747 -3.5954517204047151679 4.1296589602702713506 -1.3115390268858166944 1.0770864179569497043 -1.5059318867703181954 -0.045076496450643974145 1.3127148661412872954 -0.46369273395595073106 0.92803258942663502395 0.16845098311648717959;3.6848458237415440131 -3.7376465638079703346 -0.46282145077577646619 -13.54803421674813535 3.5619736865868993902 1.6718545710951915328 -0.15620830993882450777 -0.55974796303047658075 0.20657555048112569152 -0.82059569677078059158 -0.35736474403014933943;0.54708491099105083233 -1.4618332098179713796 2.0261014604571299103 0.91566661533116877614 -0.030676921124080176045 -0.61405823538696968633 -0.64878209441420586767 -1.1343068152882920252 0.9832892674212225792 1.8320544705680508191 0.41930242214521712407;2.526588541466617599 -0.65948384906639689884 2.1831385431541963094 -2.0732576009785250726 -1.2883967274521890278 -2.9149317052222318836 1.0512149222690228001 2.4930010279008465446 -2.8948827791660378672 4.6847539164748015494 2.0509988118675246405;-0.34513505424817092493 0.31001944746834869671 1.3901195997542645788 -1.0638288132475595127 0.14963188411482891693 0.48399948872847098347 -2.0210675585686646016 -1.2050027412784207748 -0.70360152652584118105 -2.1232599809565031457 -1.5276320414993882491];

% Layer 2
b2 = 1.0530690129696582691;
LW2_1 = [2.8538604227762989218 2.4265388284667874785 -0.29580676815944628721 -2.2372699285203485609 -0.42735807055188729242 -2.567919406159627993 1.820441239475313111 1.9317969880052627829 0.46830083906092800916 -0.25026704844985442344 -0.33124826172426663495 0.26212775991059594771 1.0006721257175241746];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.0147058823529412;
y1_step1.xoffset = 5;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
