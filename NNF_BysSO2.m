function [y1] = NNF_BysSO2(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 05-May-2020 16:18:00.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx11 matrix, input #1
% and returns:
%   y = Qx1 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [4;5;0.2;0;2;0;0.1;996.6;0;-4;10];
x1_step1.gain = [0.00809716599190283;0.00400801603206413;0.740740740740741;0.0121212121212121;0.00181653042688465;0.00826446280991736;0.5;0.0461893764434179;0.00640820249919897;0.0476190476190476;0.0222222222222222];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.44223086663442445765;0.75878624466943744853;0.44068239940674114319;0.87108408912463775042;-0.2301865302435403271;-0.2275463850127424914;-2.3051444620828847043;-0.7820270091616212671;-1.7879123538172676522;-0.76091577271098387314;0.057898370439291982348;0.081469031808778541448;-0.29021495013117448725;0.23018080999094894801;0.18511461169870563337;0.090058758396887081399;0.094629704829693142565;1.4760958656301468306;-0.65142026134521391345;0.82251072290104854101;-1.1031250186789156587;-0.30360137820961730082;-0.23123944163734680424];
IW1_1 = [1.03137718093299946 -1.1901736579804855776 1.4113818291285957773 0.031434734387269333555 -0.87484529178471404087 0.4430498372171963184 -0.39060373957791444388 -1.3214080989360916796 -0.35028509659384193808 0.040967426552758798297 -0.64753100296474175313;0.20920450463969414434 -0.38634931380269177392 0.48686972230415648255 0.13275219342641383924 0.063237859943324550849 0.14030044289395868229 -0.91515528082251695885 -0.74566789217626261443 0.18300252173912059939 0.89295027150236883084 -0.42076711418766016282;1.3649501119700044871 -0.75479492066873177247 -2.0001530814775496658 -0.15550139529610834677 0.35654361406020912417 0.88215779745978972759 0.2549641592156983716 -1.0183763215677152925 -0.83889090586091485946 -1.0169473661581818202 0.1233095316640544642;-0.10690111960949932879 0.074136351174423006927 1.6507890542044840743 0.54892745682050969602 -0.42283250161403163059 0.86061691736435164124 0.10051325984790641932 -0.16114082752092667716 0.13793694631442962595 -0.6896969194089810351 -0.13546797701854826346;-0.88415008812898721047 1.0862707999709280138 1.9578328895986367719 0.17068803926489239942 -0.78299967301575701395 -0.029124085284836967458 -0.41099440731622444156 1.1851279106964169863 -0.5754323700995509494 0.53295052229748174355 0.31522344124657442066;-0.8262335455980133192 1.0350725936483038403 0.88247678885465086207 -0.03532532704470816437 0.26290703778144736136 0.98948452406184428387 -0.39255796848353802231 1.4307411770490590097 -0.63749780544083411993 0.061930956888015413486 0.42472060151669216443;0.16513445573746099448 0.35218741501327005539 -0.47268127176187096916 -0.220382579849135396 1.7010306529663412611 1.0259708403032028468 -0.17687296794942311551 -0.50634447728358700225 5.3720196286899648541 -0.080879095020850791387 -0.19113333775663132741;1.3039070601193620824 -1.3180256781347279293 -1.027115074268650563 -0.0062326232751638245208 -0.7875860498758187056 -0.70435787789784154445 0.01237825416368171054 -0.67726372885126984169 2.2926676690497753697 -0.13872309000765661868 -0.51601041053805263292;-0.25079901436958162986 -0.44936306835724365571 -1.710358221212736618 1.6587393971775128421 -0.56567816408903293102 -2.0552157880461860984 0.34287102134590080604 0.23122841816039094165 -0.87609921427090664547 -0.96751438964289970812 -0.21126376866871290905;-0.1343220850458572424 -0.46145452808161641078 -0.044312446329907294318 -0.28905596946893852284 0.0036211115817558394564 -1.8783313287035243722 -0.053371789230585636732 -0.28231190877063938593 -0.23903181893885744325 1.2045254528666824445 -0.11385670383166764108;0.00069915294794611708689 0.58227034431320989771 1.7921913611309241432 -2.0728665525904266254 -1.2382584767738815668 2.3045188052604457241 -0.47073149241621686789 0.14684365002447644089 0.82120821758621886932 0.79576571393571293722 0.22886814779169301071;1.0006861210825077624 -1.3841690062235589842 1.4205527897600738196 0.076116762540257731917 -0.22443804746985232534 0.20208231622549166495 -0.11531781576981202375 -1.6294644435947100991 0.30750983305278500879 -0.038843584510478812444 -0.58251168364891536822;-1.2028639633443631851 1.0215981928730155648 0.38674065509714089517 -0.008860201227305528407 0.66090963217662568319 0.42869512906802553776 -0.031917671034090884519 0.68686220636582562271 -2.5747302633782225278 0.52959389326625161409 0.56746687719536659245;0.39789337694006976509 0.5917635167110729677 1.5137215911102643862 -1.2552993471856022101 -0.95523075022423753477 1.5168943368694489671 -0.22679598695198441294 -0.37928371005689703876 0.98188045017827740857 1.5298057450105917443 0.29894161655089535046;-0.22946513859590580986 0.35663421307064091526 0.74876923363679848134 -0.1926057889715743765 -0.095607507836202906826 0.21435005401474424569 0.76737704412861418302 0.70474700751265761944 -0.37046712911016993486 -1.1068137702589759819 0.40665252755439679211;-0.71933243969249704985 0.64213107811169867212 -0.41727771331448215708 -0.1134340442419062428 -0.82427557518208616205 -2.2195757307093746391 0.20165348737170860072 -0.062488107887899102533 -1.9288366969339307833 1.1442750940121870773 0.053073873811956842617;-0.61202379816745178243 -1.1784737018175974743 -0.32546415595397260034 -1.0032612127135123181 -0.2925658661300168939 -0.73909113313898955333 -0.15926357607279825745 0.023382033167237539772 -1.1422892645024227409 -0.47761772130767249367 0.85702140892947697992;-0.40850617575950676219 -0.29038103984762969612 2.5030551413654635873 -0.044848667781299061952 -0.94168977495949313106 -0.1459436944917563983 -0.24032467635404075601 0.911373949698474628 1.1350366706547967421 0.48329352901158878497 -0.1203629188584930676;1.176032898651398817 0.29068020061197685777 0.051291980954458485376 0.80890048561668226323 -0.12553189600221500988 2.0792368549234954145 -0.015283289603509294871 0.17500965501332418905 0.75648692787998106368 -0.4362493381155270189 -0.65437629628061988463;-0.49156339767166179477 0.070103924161320149699 1.0176702810888922368 0.14114857021814192217 -0.0045253442702437082085 0.24667572781372462676 -0.021673313833346939672 0.56854129453633395208 0.54146028765873222 -0.15746967479968429493 -0.03277639865905965233;0.87231721232219661122 -0.9459070404798005649 -1.2784100006966874208 -0.010482815514621207989 -0.21556435978707366719 -0.5963302290969070274 -0.19946620134306969341 -1.2455481420467169329 0.0016237633549842714342 0.80161280443234717019 -0.4640304252861255363;0.17338324507248273343 -0.23460600705876175076 -1.0868195854347306728 -0.013427813947414376367 0.061614206026336777733 1.6693203930345437147 0.0018672632604747336615 0.56237094633447193281 1.8558538226627403489 -0.79238618894273837867 -0.046606825835671342184;-2.0824102816811009831 -0.053299597161479937701 3.0206419328497919885 1.102343082035666777 0.1854689863075896783 0.70643166156939185552 -0.20836089991195885784 1.3345995445818930047 1.8838193127815805461 0.62459177167363810756 -0.33868730342529701494];

% Layer 2
b2 = -0.047731153246668864276;
LW2_1 = [0.96623035166674897667 -1.9998564654386639106 -1.3354608426361616047 1.2890290643611932442 -1.3792681299218085833 1.61716746455776339 -0.91466297448544475746 -1.9432852007254957094 -2.4451435376548533718 1.1143644451338339252 -1.2546215664947690804 -0.64468923295755153902 -1.7849236832281891729 -1.2857584421716288237 -2.3704652764045062163 -1.395583770977912641 -1.5309295688498076871 0.91948913714584978862 -1.8211811719358832473 -2.8438431003616777559 -1.6421757839892343611 0.51918771879126979218 -0.61480795642876695517];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.0134228187919463;
y1_step1.xoffset = 1;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
