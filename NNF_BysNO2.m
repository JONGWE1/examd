function [y1] = NNF_BysNO2(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 05-May-2020 23:19:23.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx11 matrix, input #1
% and returns:
%   y = Qx1 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [4;5;0.2;0;2;0;0.1;996.6;0;-4;10];
x1_step1.gain = [0.00809716599190283;0.00400801603206413;0.740740740740741;0.0121212121212121;0.00181653042688465;0.00826446280991736;0.5;0.0461893764434179;0.00640820249919897;0.0476190476190476;0.0222222222222222];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.14136990358933340661;-0.22229574980933899941;-1.4990621169972773163;-0.056379907746871314733;0.62619841703611833772;-1.148458226709730079;-0.00012526406858118533934;0.39458572339410247221;-0.38793736040025345035;0.69210105766529650406;-0.67155810879442334738;-0.15260500422329092984;-0.16292397707403249996];
IW1_1 = [0.61288511949310375826 -1.2735460094428692202 -1.0941188373990011762 -0.16920631117492382356 0.16962791556054912512 0.60906054831064659894 -0.25431460861005555918 0.28115300860467468125 0.48370604034236225344 1.0722700443407882087 -0.44141185461917731292;-0.63974539046029399447 0.68355948249854503462 0.89309706388312160019 0.27494165048078145208 -0.15353416558199897701 0.26462369895342724435 -0.138606943518093495 0.79024419589498373639 2.0596466815484095747 0.2530380151801866484 -0.9157589192358805974;0.73498801795307777684 -0.8566508348853008048 -0.20656555685681862733 0.9241829768587962457 -0.0077010946068648581872 -0.23235525751702232333 -0.9226707715260628051 -1.2273106952935213254 0.053411202892063511238 -0.24205317073089949176 -0.6470526582386125769;0.043057799812316062404 0.25986253041157197918 0.33476696444021247778 0.15078177300302364472 0.80590886045242104974 -0.091398386645957979679 -0.07729515055408293922 0.24361145640818970826 3.0327112871583441489 -0.081170962657875447843 -0.70073928356138048823;-1.0189839014623360836 0.73326375777281638246 1.9247742479446598995 0.45783328165280862132 -0.38954869899852928583 0.11502186444827276757 0.36072156408340927403 0.6591918842452574312 -0.22713008978361171053 -0.66854996468035265966 0.026095144161518951664;-0.46611383984364146427 0.37643171996122343215 1.7375677709696148998 -0.11452796914913929149 -0.86980515117884849019 -0.051622617238828862052 -0.57584220751682091421 0.53880071404630391907 -0.41828486325800445789 1.0749446756809979409 -0.72924626809933035254;0.62999329765580025509 0.058797141590175142079 -1.913934898887652114 -0.45982819016770798415 0.34502059630828774139 -0.32471783456724540029 0.38929732271082478912 1.134908927695431835 1.0593618516032508037 2.1531025986460190502 1.1148945414366435713;1.0768743876296524853 -0.98366976174426667967 -2.0788647272519198417 0.72239087358775455616 -0.12206366250651860816 -0.37270607422958851318 0.42865285583343498699 -0.3674028744211610964 0.95372824418590096407 -1.1994294306305666176 0.11198584206825393239;0.10048413102269182495 0.33682603217197992773 -2.5034439960463163999 -0.28171057452350972694 0.16940044311527707732 -0.049250616843311653681 0.18101932061224920711 0.53310555682519356058 0.74990248881608323472 1.5956917750701304914 0.94457374061778887064;-0.85756718917592633655 0.80502544414287713348 0.19048591603259742988 0.77683885753725157031 0.42610843704119327757 0.17324398102058186089 -0.062324619975392986371 -0.30826770746856740901 -0.61765677540627850206 -0.90791217414969949129 -0.42360562432157616852;0.69574795872952444054 -0.10452827536231301675 -0.1534773454592027464 -0.22076860486548932627 0.52036494443887415517 -0.053833980462539315903 0.16874956066908067265 -0.030537462272189248164 2.0028743786381224545 0.37091047531750254151 0.21325624965793457677;1.0633239445321480687 -1.9666747597209663923 -0.19697648005069723354 -0.73813679093752071481 0.090633832185229717959 0.51178037244243712589 -0.039628620921670881794 0.62145308896676809685 0.73824971670136119162 1.0547713673348622088 -0.0052024733487662268294;-0.26223730153946439581 -0.21292547815433326974 0.45492721708996891605 -0.68136513357133432489 -1.4613003019627088808 -0.17246162344911369901 0.50181211034224681988 1.2783593423152348478 -0.18734198561719453413 0.11208266692707817558 0.047334249848399664873];

% Layer 2
b2 = 0.25463389655874713036;
LW2_1 = [-1.2829332378236057988 1.1885991510854692077 1.5443462536507659433 -1.6958355750042681809 -1.34279066545593051 -1.623071227819245399 1.6281943757951096163 -1.2838433331110428171 -1.8680217450452263339 2.2553859240192730695 1.6841483971621300508 1.3832755566666548042 1.4557082801458387511];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.0147058823529412;
y1_step1.xoffset = 5;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
